rbills@mbp19-rbills task % python3 addTask.py
{
    "id": "522a98e1-c301-4f07-8cc5-0862b08a4886"
}
rbills@mbp19-rbills task % python3 editTask.py
{
    "aptBusinessObjectId": "USPT-3591",
    "id": "522a98e1-c301-4f07-8cc5-0862b08a4886"
}
rbills@mbp19-rbills task % python3 readTaskDetails.py
{
    "id": "522a98e1-c301-4f07-8cc5-0862b08a4886",
    "data": {
        "templateName": null,
        "aptBusinessObjectDescription": "Modifying the description using Python and GraphQL",
        "isAddRemoveSubtaskAllowed": true,
        "businessPriority": "LOW",
        "responsibleDepartmentAtCompany": null
    },
    "taskContainsSubTask": [
        {
            "to": {
                "subType": null,
                "objectType": "agile-process-teams:subTask"
            }
        },
        {
            "to": {
                "subType": null,
                "objectType": "agile-process-teams:subTask"
            }
        }
    ],
    "__typename": "Task"
}
rbills@mbp19-rbills task %
rbills@mbp19-rbills task % python3 copyTask.py
{
    "aptBusinessObjectId": "USPT-3594",
    "id": "0dcfb769-d9df-41fe-8b9a-77380005b80a"
}
rbills@mbp19-rbills task % python3 closeTask.py
Traceback (most recent call last):
  File "/Users/rbills/test/gql_samples/task/closeTask.py", line 22, in <module>
    api_json = json.loads(schema_json.get('result'))  # load the result object to json
                          ^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
rbills@mbp19-rbills task % python3 closeTask.py
{
    "aptBusinessObjectId": "USPT-3594",
    "id": "0dcfb769-d9df-41fe-8b9a-77380005b80a",
    "message": "Task with id 0dcfb769-d9df-41fe-8b9a-77380005b80a Closed Successfully"
}
rbills@mbp19-rbills task % python3 reopenTask.py
{
    "aptBusinessObjectId": "USPT-3594",
    "id": "0dcfb769-d9df-41fe-8b9a-77380005b80a",
    "message": "Task with id 0dcfb769-d9df-41fe-8b9a-77380005b80a Reopened Successfully"
}
rbills@mbp19-rbills task % python3 addSubTaskToTask.py
Traceback (most recent call last):
  File "/Users/rbills/test/gql_samples/task/addSubTaskToTask.py", line 22, in <module>
    api_json = json.loads(schema_json.get('result'))  # load the result object to json
                          ^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
rbills@mbp19-rbills task % python3 addSubTaskToTask.py
Traceback (most recent call last):
  File "/Users/rbills/test/gql_samples/task/addSubTaskToTask.py", line 22, in <module>
    api_json = json.loads(schema_json.get('result'))  # load the result object to json
                          ^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
rbills@mbp19-rbills task % python3 addSubTaskToTask.py
{
    "id": "5e19fddd-cf0b-4678-95be-3521bbf13936"
}
rbills@mbp19-rbills task % python3 editSubTaskOnTask.py
Traceback (most recent call last):
  File "/Users/rbills/test/gql_samples/task/editSubTaskOnTask.py", line 22, in <module>
    api_json = json.loads(schema_json.get('result'))  # load the result object to json
                          ^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
rbills@mbp19-rbills task % python3 editSubTaskOnTask.py
{
    "aptBusinessObjectId": "USPT-3597",
    "id": "5e19fddd-cf0b-4678-95be-3521bbf13936"
}
rbills@mbp19-rbills task % python3 listSubtaskForTask.py
{
    "subTasks": [
        {
            "subTask": {
                "subTaskId": "9a099730-815a-4db2-b046-2edbfff67143",
                "subTaskType": "Test subTask",
                "subTaskDueDate": 1708733249258,
                "subTaskName": "GQL Created Sub Task 3",
                "subTaskStatus": "ToDo",
                "currentSubState": null,
                "creationDateTime": 1707523649318,
                "aptBusinessObjectId": "USPT-3592",
                "lastUpdatedDateTime": 1707523649318,
                "taskIsVisible": true,
                "currentlyOwnerAssignees": [],
                "currentlyPartnerAssignees": [],
                "lastUpdatedByUserName": "Robert Bills",
                "isCreator": true
            }
        },
        {
            "subTask": {
                "subTaskId": "88d039a5-837b-46f0-90e5-f79fc025578c",
                "subTaskType": "Test subTask",
                "subTaskDueDate": 1708733250569,
                "subTaskName": "GQL Created Sub Task",
                "subTaskStatus": "ToDo",
                "currentSubState": null,
                "creationDateTime": 1707523650654,
                "aptBusinessObjectId": "USPT-3593",
                "lastUpdatedDateTime": 1707523650654,
                "taskIsVisible": true,
                "currentlyOwnerAssignees": [],
                "currentlyPartnerAssignees": [],
                "lastUpdatedByUserName": "Robert Bills",
                "isCreator": true
            }
        },
        {
            "subTask": {
                "subTaskId": "5e19fddd-cf0b-4678-95be-3521bbf13936",
                "subTaskType": "Python test modification",
                "subTaskDueDate": 1708734990435,
                "subTaskName": "Python created using GraphQL",
                "subTaskStatus": "ToDo",
                "currentSubState": null,
                "creationDateTime": 1707525390673,
                "aptBusinessObjectId": "USPT-3597",
                "lastUpdatedDateTime": 1707526295739,
                "taskIsVisible": true,
                "currentlyOwnerAssignees": [],
                "currentlyPartnerAssignees": [],
                "lastUpdatedByUserName": "Robert Bills",
                "isCreator": true
            }
        }
    ]
}
rbills@mbp19-rbills task % python3 closeSubTask.py
{
    "aptBusinessObjectId": "USPT-3597",
    "id": "5e19fddd-cf0b-4678-95be-3521bbf13936",
    "message": "subTask closed successfully."
}
rbills@mbp19-rbills task % python3 reopenSubtask.py
{
    "aptBusinessObjectId": "USPT-3597",
    "id": "5e19fddd-cf0b-4678-95be-3521bbf13936",
    "message": "Sub-task with id 5e19fddd-cf0b-4678-95be-3521bbf13936 Reopened Successfully"
}
rbills@mbp19-rbills task % python3 removeSubtask.py
Traceback (most recent call last):
  File "/Users/rbills/test/gql_samples/task/removeSubtask.py", line 22, in <module>
    api_json = json.loads(schema_json.get('result'))  # load the result object to json
                          ^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
rbills@mbp19-rbills task % python3 removeSubtask.py
{
    "aptBusinessObjectId": "USPT-3597",
    "message": "Sub-task with Id: 5e19fddd-cf0b-4678-95be-3521bbf13936 removed successfully."
}
rbills@mbp19-rbills task % python3 addCommentForTask.py
Traceback (most recent call last):
  File "/Users/rbills/test/gql_samples/task/addCommentForTask.py", line 22, in <module>
    api_json = json.loads(schema_json.get('result'))  # load the result object to json
                          ^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
rbills@mbp19-rbills task % python3 addCommentForTask.py
Traceback (most recent call last):
  File "/Users/rbills/test/gql_samples/task/addCommentForTask.py", line 22, in <module>
    api_json = json.loads(schema_json.get('result'))  # load the result object to json
                          ^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
rbills@mbp19-rbills task % python3 addCommentForTask.py
{
    "id": "19d0e31f-c7b2-11ee-a30e-bbc985410070"
}
rbills@mbp19-rbills task % python3 editCommentForTask.py
Traceback (most recent call last):
  File "/Users/rbills/test/gql_samples/task/editCommentForTask.py", line 22, in <module>
    api_json = json.loads(schema_json.get('result'))  # load the result object to json
                          ^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
rbills@mbp19-rbills task % python3 editCommentForTask.py
Traceback (most recent call last):
  File "/Users/rbills/test/gql_samples/task/editCommentForTask.py", line 22, in <module>
    api_json = json.loads(schema_json.get('result'))  # load the result object to json
                          ^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
rbills@mbp19-rbills task % python3 editCommentForTask.py
{
    "id": "1a08bc01-c7b2-11ee-a30e-bbc985410070"
}
rbills@mbp19-rbills task % python3 list
/usr/local/Cellar/python@3.11/3.11.7_1/Frameworks/Python.framework/Versions/3.11/Resources/Python.app/Contents/MacOS/Python: can't open file '/Users/rbills/test/gql_samples/task/list': [Errno 2] No such file or directory
rbills@mbp19-rbills task % python3 listCommentForTask.py
Traceback (most recent call last):
  File "/Users/rbills/test/gql_samples/task/listCommentForTask.py", line 22, in <module>
    api_json = json.loads(schema_json.get('result'))  # load the result object to json
                          ^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'get'
rbills@mbp19-rbills task % python3 listCommentForTask.py
{
    "commentsAndAttachments": [
        {
            "aptComment": {
                "id": "19d0e31f-c7b2-11ee-a30e-bbc985410070",
                "lastUpdatedByUserId": "2160937a-409f-43e6-a5e8-dd7ca2b9225b",
                "lastUpdatedByUserName": "Robert Bills",
                "lastUpdatedDateTime": 1707528330507,
                "createdByUserId": "2160937a-409f-43e6-a5e8-dd7ca2b9225b",
                "createdByUserName": "Robert Bills",
                "creationDateTime": 1707527824832,
                "commentText": "Modifying the comment programmatically using GraphQL via Python",
                "visibilityType": "Public",
                "aptAttachments": []
            },
            "isEditableByUser": true
        }
    ]
}
rbills@mbp19-rbills task % python3 getActivityHistoryForTask.py
{
    "auditTrailRecordList": [
        {
            "auditChangeEntry": {
                "auditActionTaken": "UPDATE",
                "auditChangeDetail": [
                    {
                        "auditRecordDisplayName": "commentText",
                        "auditRecordNewValue": "Modifying the comment programmatically using GraphQL via Python",
                        "auditRecordAttributeName": "commentText",
                        "auditRecordOldValue": "Adding a comment using GraphQL via Python"
                    }
                ]
            },
            "companyName": "USPT1",
            "businessObjectName": "aptComment",
            "performedByCompanyName": "USPT1",
            "timeStamp": 1707528330283,
            "performedByNetworkNodeId": "YOUR_COMPANY_ID",
            "actionType": "Edited",
            "networkNodeId": "YOUR_COMPANY_ID",
            "businessObjectId": "19d0e31f-c7b2-11ee-a30e-bbc985410070",
            "auditItemIdentifier": "agile-process-teams:aptComment:v1_19d0e31f-c7b2-11ee-a30e-bbc985410070",
            "applicationDescription": "application-manager:application:v1_0408ee28-21d4-4890-97f8-90f3174ed3a8",
            "businessObjectSchemaName": "agile-process-teams:aptComment",
            "performedByUserName": "Robert Bills",
            "reasonCode": "",
            "performedByUserId": "2160937a-409f-43e6-a5e8-dd7ca2b9225b",
            "modifiedData": "commentText : Adding a comment using GraphQL via Python,Modifying the comment programmatically using GraphQL via Python",
            "applicationName": "agile-process-teams"
        },
        {
            "auditChangeEntry": {
                "auditActionTaken": "CREATE",
                "auditChangeDetail": [
                    {
                        "auditRecordDisplayName": "fromId",
                        "auditRecordNewValue": "USPT-3591",
                        "auditRecordNewResolvedSchemaName": "agile-process-teams:task",
                        "auditRecordAttributeName": "fromId",
                        "auditRecordNewResolvedIdentifier": "522a98e1-c301-4f07-8cc5-0862b08a4886"
                    },
                    {
                        "auditRecordDisplayName": "toId",
                        "auditRecordNewValue": "agile-process-teams:aptComment:v1_19d0e31f-c7b2-11ee-a30e-bbc985410070",
                        "auditRecordNewResolvedSchemaName": "agile-process-teams:aptComment",
                        "auditRecordAttributeName": "toId",
                        "auditRecordNewResolvedIdentifier": "19d0e31f-c7b2-11ee-a30e-bbc985410070"
                    }
                ]
            },
            "companyName": "USPT1",
            "businessObjectName": "task",
            "resolvedRelationshipSchemaName": "agile-process-teams:aptBusinessObjectContainsComment",
            "performedByCompanyName": "USPT1",
            "timeStamp": 1707527824999,
            "performedByNetworkNodeId": "YOUR_COMPANY_ID",
            "actionType": "CREATE",
            "networkNodeId": "YOUR_COMPANY_ID",
            "businessObjectId": "522a98e1-c301-4f07-8cc5-0862b08a4886",
            "auditItemIdentifier": "USPT-3591",
            "applicationDescription": "application-manager:application:v1_0408ee28-21d4-4890-97f8-90f3174ed3a8",
            "resolvedRelationshipObjectIdentifier": "1a08bc01-c7b2-11ee-a30e-bbc985410070",
            "businessObjectSchemaName": "agile-process-teams:task",
            "performedByUserName": "rbills+uspt1@tracelink.com",
            "reasonCode": "",
            "performedByUserId": "2160937a-409f-43e6-a5e8-dd7ca2b9225b",
            "modifiedData": "fromId : --,USPT-3591 ; toId : --,agile-process-teams:aptComment:v1_19d0e31f-c7b2-11ee-a30e-bbc985410070",
            "applicationName": "agile-process-teams"
        },
        {
            "auditChangeEntry": {
                "auditActionTaken": "CREATE",
                "auditChangeDetail": [
                    {
                        "auditRecordDisplayName": "commentText",
                        "auditRecordNewValue": "Adding a comment using GraphQL via Python",
                        "auditRecordAttributeName": "commentText"
                    },
                    {
                        "auditRecordDisplayName": "isDeleted",
                        "auditRecordNewValue": "false",
                        "auditRecordAttributeName": "isDeleted"
                    }
                ]
            },
            "companyName": "USPT1",
            "businessObjectName": "aptComment",
            "performedByCompanyName": "USPT1",
            "timeStamp": 1707527824661,
            "performedByNetworkNodeId": "YOUR_COMPANY_ID",
            "actionType": "Added",
            "networkNodeId": "YOUR_COMPANY_ID",
            "businessObjectId": "19d0e31f-c7b2-11ee-a30e-bbc985410070",
            "auditItemIdentifier": "agile-process-teams:aptComment:v1_19d0e31f-c7b2-11ee-a30e-bbc985410070",
            "applicationDescription": "application-manager:application:v1_0408ee28-21d4-4890-97f8-90f3174ed3a8",
            "businessObjectSchemaName": "agile-process-teams:aptComment",
            "performedByUserName": "Robert Bills",
            "reasonCode": "",
            "performedByUserId": "2160937a-409f-43e6-a5e8-dd7ca2b9225b",
            "modifiedData": "commentText : --,Adding a comment using GraphQL via Python ; isDeleted : --,false",
            "applicationName": "agile-process-teams"
        },
        {
            "auditChangeEntry": {
                "auditActionTaken": "UPDATE",
                "auditChangeDetail": [
                    {
                        "auditRecordDisplayName": "aptBusinessObjectDescription",
                        "auditRecordNewValue": "Modifying the description using Python and GraphQL",
                        "auditRecordAttributeName": "aptBusinessObjectDescription",
                        "auditRecordOldValue": "Tasks for recurring purchase orders"
                    }
                ]
            },
            "companyName": "USPT1",
            "businessObjectName": "task",
            "performedByCompanyName": "USPT1",
            "timeStamp": 1707524139897,
            "performedByNetworkNodeId": "YOUR_COMPANY_ID",
            "actionType": "Edited",
            "networkNodeId": "YOUR_COMPANY_ID",
            "businessObjectId": "522a98e1-c301-4f07-8cc5-0862b08a4886",
            "auditItemIdentifier": "USPT-3591",
            "applicationDescription": "application-manager:application:v1_0408ee28-21d4-4890-97f8-90f3174ed3a8",
            "businessObjectSchemaName": "agile-process-teams:task",
            "performedByUserName": "Robert Bills",
            "reasonCode": "",
            "performedByUserId": "2160937a-409f-43e6-a5e8-dd7ca2b9225b",
            "modifiedData": "aptBusinessObjectDescription : Tasks for recurring purchase orders,Modifying the description using Python and GraphQL",
            "applicationName": "agile-process-teams"
        },
        {
            "auditChangeEntry": {
                "auditActionTaken": "CREATE",
                "auditChangeDetail": [
                    {
                        "auditRecordDisplayName": "Status",
                        "auditRecordNewValue": "ToDo",
                        "auditRecordAttributeName": "currentBaseState"
                    },
                    {
                        "auditRecordDisplayName": "isAddRemoveSubtaskAllowed",
                        "auditRecordNewValue": "true",
                        "auditRecordAttributeName": "isAddRemoveSubtaskAllowed"
                    },
                    {
                        "auditRecordDisplayName": "aptBusinessObjectSummary",
                        "auditRecordNewValue": "GraphQL Python created task",
                        "auditRecordAttributeName": "aptBusinessObjectSummary"
                    },
                    {
                        "auditRecordDisplayName": "aptBusinessObjectDescription",
                        "auditRecordNewValue": "Tasks for recurring purchase orders",
                        "auditRecordAttributeName": "aptBusinessObjectDescription"
                    },
                    {
                        "auditRecordDisplayName": "businessPriority",
                        "auditRecordNewValue": "LOW",
                        "auditRecordAttributeName": "businessPriority"
                    },
                    {
                        "auditRecordDisplayName": "isVisible",
                        "auditRecordNewValue": "true",
                        "auditRecordAttributeName": "isVisible"
                    },
                    {
                        "auditRecordDisplayName": "aptBusinessObjectId",
                        "auditRecordNewValue": "USPT-3591",
                        "auditRecordAttributeName": "aptBusinessObjectId"
                    },
                    {
                        "auditRecordDisplayName": "isAtRisk",
                        "auditRecordNewValue": "false",
                        "auditRecordAttributeName": "isAtRisk"
                    },
                    {
                        "auditRecordDisplayName": "completionDueDate",
                        "auditRecordNewValue": "1737834411000",
                        "auditRecordAttributeName": "completionDueDate"
                    },
                    {
                        "auditRecordDisplayName": "Follower",
                        "auditRecordNewValue": "Robert Bills",
                        "auditRecordNewResolvedSchemaName": "network-administration:user",
                        "auditRecordAttributeName": "followerId",
                        "auditRecordNewResolvedIdentifier": "2160937a-409f-43e6-a5e8-dd7ca2b9225b"
                    }
                ]
            },
            "companyName": "USPT1",
            "businessObjectName": "task",
            "performedByCompanyName": "USPT1",
            "timeStamp": 1707523648181,
            "performedByNetworkNodeId": "YOUR_COMPANY_ID",
            "actionType": "Added",
            "networkNodeId": "YOUR_COMPANY_ID",
            "businessObjectId": "522a98e1-c301-4f07-8cc5-0862b08a4886",
            "auditItemIdentifier": "USPT-3591",
            "applicationDescription": "application-manager:application:v1_0408ee28-21d4-4890-97f8-90f3174ed3a8",
            "businessObjectSchemaName": "agile-process-teams:task",
            "performedByUserName": "Robert Bills",
            "reasonCode": "",
            "performedByUserId": "2160937a-409f-43e6-a5e8-dd7ca2b9225b",
            "modifiedData": "currentBaseState : --,ToDo ; isAddRemoveSubtaskAllowed : --,true ; aptBusinessObjectSummary : --,GraphQL Python created task ; aptBusinessObjectDescription : --,Tasks for recurring purchase orders ; businessPriority : --,LOW ; isVisible : --,true ; fkProcessNetworkId : --,APT-SCWM ; aptBusinessObjectId : --,USPT-3591 ; isAtRisk : --,false ; completionDueDate : --,1737834411000 ; followerId : --,rbills+uspt1@tracelink.com",
            "applicationName": "agile-process-teams"
        }
    ]
}
